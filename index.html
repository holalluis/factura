<!doctype html>
<html><head>
	<meta charset=utf-8>
	<meta name="viewport" content="width=device-width">
	<link rel=stylesheet href=css.css>
	<title>Calcula factura Tarifa 3.1A (Espanya)</title>
	<script src=tarifa_31A.js></script>
	<script src=festius.js></script>
	<script src=utils.js></script>
	<script>
		function processa_corba(valors) 
		{
			//separa la corba per line breaks i filtra linies buides
			var linies=valors.split('\n').filter(function(n){return (n!="" && n!=" " && n!="	")});

			log("Processant "+linies.length+" línies al camp de text..."); //mostra numero de línies de la corba

			if(linies.length==0)
			{
				log("[ERROR] camp de text buit");
				return
			}

			/*DETECTA DATA INICIAL, TIME INTERVAL I NOMBRE DE TIMESTEPS*/
			//linia=['01/01/2017', '00:00', '50', 'kW']
			var linia_inici=linies[0].split(' ');
			var dia_inici=linia_inici[0];
			var hor_inici=linia_inici[1];
			//retalla string per convertir dia inicial a objecte Date
			var d={};
			d.any=parseInt(dia_inici.split('/')[2]);
			d.mes=parseInt(dia_inici.split('/')[1])-1; //gener=0,febrer=1,etc.
			d.dia=parseInt(dia_inici.split('/')[0]);
			d.hor=parseInt(hor_inici.split(':')[0]);
			d.min=parseInt(hor_inici.split(':')[1]);
			//agafa data inici i suma 1 mes per trobar la data final
			var data_inici=new Date(Date.UTC(d.any,d.mes,d.dia,d.hor,d.min,0));
			var data_final=new Date(Date.UTC(d.any,d.mes+1,d.dia,d.hor,d.min,0));
			log("Data inici: "+data_inici.toUTCString().replace("00: GMT",''));
			log("Data final: "+data_final.toUTCString().replace("00: GMT",''));

			//nombre de timesteps (hores)
			/*
				28 dies = 672 hores (febrer)
				29 dies = 696 hores (febrer de traspàs) (any%4==0)
				31 dies = 744 hores (gener,abril,maig,juliol,agost,desembre)
				30 dies = 720 hores (abril,juny,setembre,novembre)
				canvis d'hora (març    -1 hora) = 743 hores
				canvis d'hora (octubre +1 hora) = 745 hores
			*/
			var hores=(data_final-data_inici)/36e5; //passar de milisegons a hores

			if([672,696,744,720,743,745].indexOf(hores)==-1)
			{
				log("[ERROR] nombre d'hores incorrecte ("+hores+")");
			}
			else
			{
				log("[OK] nombre d'hores possible ("+hores+")");
			}

			//warning si no coincideixen
			if(hores!=linies.length)
			{
				log("[WARNING]: Hi hauria d'haver "+hores+" hores ("+hores/24+" dies)");
				log("[WARNING]: Hi ha "+linies.length+" hores");
			}
			else
			{
				log("[OK] Les hores coincideixen amb el nombre de línies ("+hores+")");
			}

			//ves linia per linia i processa la informacio entrada
			var Dates=[]; //dates introduïdes
			for(var i=0;i<linies.length;i++)
			{
				var d={};
				var elements=linies[i].split(' ');
				var dia=elements[0];
				var hor=elements[1];
				var pot=elements[2];
				d.any=parseInt(dia.split('/')[2]);
				d.mes=parseInt(dia.split('/')[1])-1; //gener=0,febrer=1,etc.
				d.dia=parseInt(dia.split('/')[0]);
				d.hor=parseInt(hor.split(':')[0]);
				d.min=parseInt(hor.split(':')[1]);
				var data=new Date(Date.UTC(d.any,d.mes,d.dia,d.hor,d.min,0));
				//log(data.toUTCString().replace(':00 GMT',''))

				//afegeix la potencia a l'objecte dates
				data.potKW=pot;
				Dates.push(data);
			}

			log("[OK] S'ha creat l'array 'Dates' amb la propietat 'potKW' ("+Dates.length+")");

			//comprova que les dates entrades son correctes
			for(var i=0;i<Dates.length;i++)
			{
				var data = new Date(data_inici)
				data.setUTCHours(data.getUTCHours()+i)
				if(data.toUTCString()!=Dates[i].toUTCString())
				{
					log('[ERROR] Data incorrecta');
					log(data);
					log(Dates[i]);
					return
				}
			}
			log("[OK] Les dates entrades ("+Dates.length+") son correctes i seguides");

			//continuar aqui: assignar períodes a cada instant, fa falta info de TOU
			//

			//mostra taula de preus
			document.querySelector('#contracte').style.display='block'
		}
	</script>
</head><body>

<div id=root>
	<h1 onclick=window.location.reload()><script>document.write(document.title)</script></h1>
	<div class=nota>Enganxa aquí la corba horària del mes sencer <b>(dd/mm/aa hh:MM kW)</b></div>
<textarea id=corba placeholder="Enganxa corba horària (dd/mm/aa hh:MM kW)">
		01/01/2017 00:00 50 kW
		01/01/2017 01:00 50 kW
		01/01/2017 02:00 50 kW
		01/01/2017 03:00 50 kW
		01/01/2017 04:00 50 kW
		01/01/2017 05:00 50 kW
		01/01/2017 06:00 50 kW
		01/01/2017 07:00 50 kW
		01/01/2017 08:00 50 kW
		01/01/2017 09:00 50 kW
		01/01/2017 10:00 50 kW
		01/01/2017 11:00 50 kW
		01/01/2017 12:00 50 kW
		01/01/2017 13:00 50 kW
		01/01/2017 14:00 50 kW
		01/01/2017 15:00 50 kW
		01/01/2017 16:00 50 kW
		01/01/2017 17:00 50 kW
		01/01/2017 18:00 50 kW
		01/01/2017 19:00 50 kW
		01/01/2017 20:00 50 kW
		01/01/2017 21:00 50 kW
		01/01/2017 22:00 50 kW
		01/01/2017 23:00 50 kW

		02/01/2017 00:00 50 kW
		02/01/2017 01:00 50 kW
		02/01/2017 02:00 50 kW
		02/01/2017 03:00 50 kW
		02/01/2017 04:00 50 kW
		02/01/2017 05:00 50 kW
		02/01/2017 06:00 50 kW
		02/01/2017 07:00 50 kW
		02/01/2017 08:00 50 kW
		02/01/2017 09:00 50 kW
		02/01/2017 10:00 50 kW
		02/01/2017 11:00 50 kW
		02/01/2017 12:00 50 kW
		02/01/2017 13:00 50 kW
		02/01/2017 14:00 50 kW
		02/01/2017 15:00 50 kW
		02/01/2017 16:00 50 kW
		02/01/2017 17:00 50 kW
		02/01/2017 18:00 50 kW
		02/01/2017 19:00 50 kW
		02/01/2017 20:00 50 kW
		02/01/2017 21:00 50 kW
		02/01/2017 22:00 50 kW
		02/01/2017 23:00 50 kW

		03/01/2017 00:00 50 kW
		03/01/2017 01:00 50 kW
		03/01/2017 02:00 50 kW
		03/01/2017 03:00 50 kW
		03/01/2017 04:00 50 kW
		03/01/2017 05:00 50 kW
		03/01/2017 06:00 50 kW
		03/01/2017 07:00 50 kW
		03/01/2017 08:00 50 kW
		03/01/2017 09:00 50 kW
		03/01/2017 10:00 50 kW
		03/01/2017 11:00 50 kW
		03/01/2017 12:00 50 kW
		03/01/2017 13:00 50 kW
		03/01/2017 14:00 50 kW
		03/01/2017 15:00 50 kW
		03/01/2017 16:00 50 kW
		03/01/2017 17:00 50 kW
		03/01/2017 18:00 50 kW
		03/01/2017 19:00 50 kW
		03/01/2017 20:00 50 kW
		03/01/2017 21:00 50 kW
		03/01/2017 22:00 50 kW
		03/01/2017 23:00 50 kW

		04/01/2017 00:00 50 kW
		04/01/2017 01:00 50 kW
		04/01/2017 02:00 50 kW
		04/01/2017 03:00 50 kW
		04/01/2017 04:00 50 kW
		04/01/2017 05:00 50 kW
		04/01/2017 06:00 50 kW
		04/01/2017 07:00 50 kW
		04/01/2017 08:00 50 kW
		04/01/2017 09:00 50 kW
		04/01/2017 10:00 50 kW
		04/01/2017 11:00 50 kW
		04/01/2017 12:00 50 kW
		04/01/2017 13:00 50 kW
		04/01/2017 14:00 50 kW
		04/01/2017 15:00 50 kW
		04/01/2017 16:00 50 kW
		04/01/2017 17:00 50 kW
		04/01/2017 18:00 50 kW
		04/01/2017 19:00 50 kW
		04/01/2017 20:00 50 kW
		04/01/2017 21:00 50 kW
		04/01/2017 22:00 50 kW
		04/01/2017 23:00 50 kW

		05/01/2017 00:00 50 kW
		05/01/2017 01:00 50 kW
		05/01/2017 02:00 50 kW
		05/01/2017 03:00 50 kW
		05/01/2017 04:00 50 kW
		05/01/2017 05:00 50 kW
		05/01/2017 06:00 50 kW
		05/01/2017 07:00 50 kW
		05/01/2017 08:00 50 kW
		05/01/2017 09:00 50 kW
		05/01/2017 10:00 50 kW
		05/01/2017 11:00 50 kW
		05/01/2017 12:00 50 kW
		05/01/2017 13:00 50 kW
		05/01/2017 14:00 50 kW
		05/01/2017 15:00 50 kW
		05/01/2017 16:00 50 kW
		05/01/2017 17:00 50 kW
		05/01/2017 18:00 50 kW
		05/01/2017 19:00 50 kW
		05/01/2017 20:00 50 kW
		05/01/2017 21:00 50 kW
		05/01/2017 22:00 50 kW
		05/01/2017 23:00 50 kW

		06/01/2017 00:00 50 kW
		06/01/2017 01:00 50 kW
		06/01/2017 02:00 50 kW
		06/01/2017 03:00 50 kW
		06/01/2017 04:00 50 kW
		06/01/2017 05:00 50 kW
		06/01/2017 06:00 50 kW
		06/01/2017 07:00 50 kW
		06/01/2017 08:00 50 kW
		06/01/2017 09:00 50 kW
		06/01/2017 10:00 50 kW
		06/01/2017 11:00 50 kW
		06/01/2017 12:00 50 kW
		06/01/2017 13:00 50 kW
		06/01/2017 14:00 50 kW
		06/01/2017 15:00 50 kW
		06/01/2017 16:00 50 kW
		06/01/2017 17:00 50 kW
		06/01/2017 18:00 50 kW
		06/01/2017 19:00 50 kW
		06/01/2017 20:00 50 kW
		06/01/2017 21:00 50 kW
		06/01/2017 22:00 50 kW
		06/01/2017 23:00 50 kW

		07/01/2017 00:00 50 kW
		07/01/2017 01:00 50 kW
		07/01/2017 02:00 50 kW
		07/01/2017 03:00 50 kW
		07/01/2017 04:00 50 kW
		07/01/2017 05:00 50 kW
		07/01/2017 06:00 50 kW
		07/01/2017 07:00 50 kW
		07/01/2017 08:00 50 kW
		07/01/2017 09:00 50 kW
		07/01/2017 10:00 50 kW
		07/01/2017 11:00 50 kW
		07/01/2017 12:00 50 kW
		07/01/2017 13:00 50 kW
		07/01/2017 14:00 50 kW
		07/01/2017 15:00 50 kW
		07/01/2017 16:00 50 kW
		07/01/2017 17:00 50 kW
		07/01/2017 18:00 50 kW
		07/01/2017 19:00 50 kW
		07/01/2017 20:00 50 kW
		07/01/2017 21:00 50 kW
		07/01/2017 22:00 50 kW
		07/01/2017 23:00 50 kW

		08/01/2017 00:00 50 kW
		08/01/2017 01:00 50 kW
		08/01/2017 02:00 50 kW
		08/01/2017 03:00 50 kW
		08/01/2017 04:00 50 kW
		08/01/2017 05:00 50 kW
		08/01/2017 06:00 50 kW
		08/01/2017 07:00 50 kW
		08/01/2017 08:00 50 kW
		08/01/2017 09:00 50 kW
		08/01/2017 10:00 50 kW
		08/01/2017 11:00 50 kW
		08/01/2017 12:00 50 kW
		08/01/2017 13:00 50 kW
		08/01/2017 14:00 50 kW
		08/01/2017 15:00 50 kW
		08/01/2017 16:00 50 kW
		08/01/2017 17:00 50 kW
		08/01/2017 18:00 50 kW
		08/01/2017 19:00 50 kW
		08/01/2017 20:00 50 kW
		08/01/2017 21:00 50 kW
		08/01/2017 22:00 50 kW
		08/01/2017 23:00 50 kW

		09/01/2017 00:00 50 kW
		09/01/2017 01:00 50 kW
		09/01/2017 02:00 50 kW
		09/01/2017 03:00 50 kW
		09/01/2017 04:00 50 kW
		09/01/2017 05:00 50 kW
		09/01/2017 06:00 50 kW
		09/01/2017 07:00 50 kW
		09/01/2017 08:00 50 kW
		09/01/2017 09:00 50 kW
		09/01/2017 10:00 50 kW
		09/01/2017 11:00 50 kW
		09/01/2017 12:00 50 kW
		09/01/2017 13:00 50 kW
		09/01/2017 14:00 50 kW
		09/01/2017 15:00 50 kW
		09/01/2017 16:00 50 kW
		09/01/2017 17:00 50 kW
		09/01/2017 18:00 50 kW
		09/01/2017 19:00 50 kW
		09/01/2017 20:00 50 kW
		09/01/2017 21:00 50 kW
		09/01/2017 22:00 50 kW
		09/01/2017 23:00 50 kW

		10/01/2017 00:00 50 kW
		10/01/2017 01:00 50 kW
		10/01/2017 02:00 50 kW
		10/01/2017 03:00 50 kW
		10/01/2017 04:00 50 kW
		10/01/2017 05:00 50 kW
		10/01/2017 06:00 50 kW
		10/01/2017 07:00 50 kW
		10/01/2017 08:00 50 kW
		10/01/2017 09:00 50 kW
		10/01/2017 10:00 50 kW
		10/01/2017 11:00 50 kW
		10/01/2017 12:00 50 kW
		10/01/2017 13:00 50 kW
		10/01/2017 14:00 50 kW
		10/01/2017 15:00 50 kW
		10/01/2017 16:00 50 kW
		10/01/2017 17:00 50 kW
		10/01/2017 18:00 50 kW
		10/01/2017 19:00 50 kW
		10/01/2017 20:00 50 kW
		10/01/2017 21:00 50 kW
		10/01/2017 22:00 50 kW
		10/01/2017 23:00 50 kW

		11/01/2017 00:00 50 kW
		11/01/2017 01:00 50 kW
		11/01/2017 02:00 50 kW
		11/01/2017 03:00 50 kW
		11/01/2017 04:00 50 kW
		11/01/2017 05:00 50 kW
		11/01/2017 06:00 50 kW
		11/01/2017 07:00 50 kW
		11/01/2017 08:00 50 kW
		11/01/2017 09:00 50 kW
		11/01/2017 10:00 50 kW
		11/01/2017 11:00 50 kW
		11/01/2017 12:00 50 kW
		11/01/2017 13:00 50 kW
		11/01/2017 14:00 50 kW
		11/01/2017 15:00 50 kW
		11/01/2017 16:00 50 kW
		11/01/2017 17:00 50 kW
		11/01/2017 18:00 50 kW
		11/01/2017 19:00 50 kW
		11/01/2017 20:00 50 kW
		11/01/2017 21:00 50 kW
		11/01/2017 22:00 50 kW
		11/01/2017 23:00 50 kW

		12/01/2017 00:00 50 kW
		12/01/2017 01:00 50 kW
		12/01/2017 02:00 50 kW
		12/01/2017 03:00 50 kW
		12/01/2017 04:00 50 kW
		12/01/2017 05:00 50 kW
		12/01/2017 06:00 50 kW
		12/01/2017 07:00 50 kW
		12/01/2017 08:00 50 kW
		12/01/2017 09:00 50 kW
		12/01/2017 10:00 50 kW
		12/01/2017 11:00 50 kW
		12/01/2017 12:00 50 kW
		12/01/2017 13:00 50 kW
		12/01/2017 14:00 50 kW
		12/01/2017 15:00 50 kW
		12/01/2017 16:00 50 kW
		12/01/2017 17:00 50 kW
		12/01/2017 18:00 50 kW
		12/01/2017 19:00 50 kW
		12/01/2017 20:00 50 kW
		12/01/2017 21:00 50 kW
		12/01/2017 22:00 50 kW
		12/01/2017 23:00 50 kW

		13/01/2017 00:00 50 kW
		13/01/2017 01:00 50 kW
		13/01/2017 02:00 50 kW
		13/01/2017 03:00 50 kW
		13/01/2017 04:00 50 kW
		13/01/2017 05:00 50 kW
		13/01/2017 06:00 50 kW
		13/01/2017 07:00 50 kW
		13/01/2017 08:00 50 kW
		13/01/2017 09:00 50 kW
		13/01/2017 10:00 50 kW
		13/01/2017 11:00 50 kW
		13/01/2017 12:00 50 kW
		13/01/2017 13:00 50 kW
		13/01/2017 14:00 50 kW
		13/01/2017 15:00 50 kW
		13/01/2017 16:00 50 kW
		13/01/2017 17:00 50 kW
		13/01/2017 18:00 50 kW
		13/01/2017 19:00 50 kW
		13/01/2017 20:00 50 kW
		13/01/2017 21:00 50 kW
		13/01/2017 22:00 50 kW
		13/01/2017 23:00 50 kW

		14/01/2017 00:00 50 kW
		14/01/2017 01:00 50 kW
		14/01/2017 02:00 50 kW
		14/01/2017 03:00 50 kW
		14/01/2017 04:00 50 kW
		14/01/2017 05:00 50 kW
		14/01/2017 06:00 50 kW
		14/01/2017 07:00 50 kW
		14/01/2017 08:00 50 kW
		14/01/2017 09:00 50 kW
		14/01/2017 10:00 50 kW
		14/01/2017 11:00 50 kW
		14/01/2017 12:00 50 kW
		14/01/2017 13:00 50 kW
		14/01/2017 14:00 50 kW
		14/01/2017 15:00 50 kW
		14/01/2017 16:00 50 kW
		14/01/2017 17:00 50 kW
		14/01/2017 18:00 50 kW
		14/01/2017 19:00 50 kW
		14/01/2017 20:00 50 kW
		14/01/2017 21:00 50 kW
		14/01/2017 22:00 50 kW
		14/01/2017 23:00 50 kW

		15/01/2017 00:00 50 kW
		15/01/2017 01:00 50 kW
		15/01/2017 02:00 50 kW
		15/01/2017 03:00 50 kW
		15/01/2017 04:00 50 kW
		15/01/2017 05:00 50 kW
		15/01/2017 06:00 50 kW
		15/01/2017 07:00 50 kW
		15/01/2017 08:00 50 kW
		15/01/2017 09:00 50 kW
		15/01/2017 10:00 50 kW
		15/01/2017 11:00 50 kW
		15/01/2017 12:00 50 kW
		15/01/2017 13:00 50 kW
		15/01/2017 14:00 50 kW
		15/01/2017 15:00 50 kW
		15/01/2017 16:00 50 kW
		15/01/2017 17:00 50 kW
		15/01/2017 18:00 50 kW
		15/01/2017 19:00 50 kW
		15/01/2017 20:00 50 kW
		15/01/2017 21:00 50 kW
		15/01/2017 22:00 50 kW
		15/01/2017 23:00 50 kW

		16/01/2017 00:00 50 kW
		16/01/2017 01:00 50 kW
		16/01/2017 02:00 50 kW
		16/01/2017 03:00 50 kW
		16/01/2017 04:00 50 kW
		16/01/2017 05:00 50 kW
		16/01/2017 06:00 50 kW
		16/01/2017 07:00 50 kW
		16/01/2017 08:00 50 kW
		16/01/2017 09:00 50 kW
		16/01/2017 10:00 50 kW
		16/01/2017 11:00 50 kW
		16/01/2017 12:00 50 kW
		16/01/2017 13:00 50 kW
		16/01/2017 14:00 50 kW
		16/01/2017 15:00 50 kW
		16/01/2017 16:00 50 kW
		16/01/2017 17:00 50 kW
		16/01/2017 18:00 50 kW
		16/01/2017 19:00 50 kW
		16/01/2017 20:00 50 kW
		16/01/2017 21:00 50 kW
		16/01/2017 22:00 50 kW
		16/01/2017 23:00 50 kW

		17/01/2017 00:00 50 kW
		17/01/2017 01:00 50 kW
		17/01/2017 02:00 50 kW
		17/01/2017 03:00 50 kW
		17/01/2017 04:00 50 kW
		17/01/2017 05:00 50 kW
		17/01/2017 06:00 50 kW
		17/01/2017 07:00 50 kW
		17/01/2017 08:00 50 kW
		17/01/2017 09:00 50 kW
		17/01/2017 10:00 50 kW
		17/01/2017 11:00 50 kW
		17/01/2017 12:00 50 kW
		17/01/2017 13:00 50 kW
		17/01/2017 14:00 50 kW
		17/01/2017 15:00 50 kW
		17/01/2017 16:00 50 kW
		17/01/2017 17:00 50 kW
		17/01/2017 18:00 50 kW
		17/01/2017 19:00 50 kW
		17/01/2017 20:00 50 kW
		17/01/2017 21:00 50 kW
		17/01/2017 22:00 50 kW
		17/01/2017 23:00 50 kW

		18/01/2017 00:00 50 kW
		18/01/2017 01:00 50 kW
		18/01/2017 02:00 50 kW
		18/01/2017 03:00 50 kW
		18/01/2017 04:00 50 kW
		18/01/2017 05:00 50 kW
		18/01/2017 06:00 50 kW
		18/01/2017 07:00 50 kW
		18/01/2017 08:00 50 kW
		18/01/2017 09:00 50 kW
		18/01/2017 10:00 50 kW
		18/01/2017 11:00 50 kW
		18/01/2017 12:00 50 kW
		18/01/2017 13:00 50 kW
		18/01/2017 14:00 50 kW
		18/01/2017 15:00 50 kW
		18/01/2017 16:00 50 kW
		18/01/2017 17:00 50 kW
		18/01/2017 18:00 50 kW
		18/01/2017 19:00 50 kW
		18/01/2017 20:00 50 kW
		18/01/2017 21:00 50 kW
		18/01/2017 22:00 50 kW
		18/01/2017 23:00 50 kW

		19/01/2017 00:00 50 kW
		19/01/2017 01:00 50 kW
		19/01/2017 02:00 50 kW
		19/01/2017 03:00 50 kW
		19/01/2017 04:00 50 kW
		19/01/2017 05:00 50 kW
		19/01/2017 06:00 50 kW
		19/01/2017 07:00 50 kW
		19/01/2017 08:00 50 kW
		19/01/2017 09:00 50 kW
		19/01/2017 10:00 50 kW
		19/01/2017 11:00 50 kW
		19/01/2017 12:00 50 kW
		19/01/2017 13:00 50 kW
		19/01/2017 14:00 50 kW
		19/01/2017 15:00 50 kW
		19/01/2017 16:00 50 kW
		19/01/2017 17:00 50 kW
		19/01/2017 18:00 50 kW
		19/01/2017 19:00 50 kW
		19/01/2017 20:00 50 kW
		19/01/2017 21:00 50 kW
		19/01/2017 22:00 50 kW
		19/01/2017 23:00 50 kW

		20/01/2017 00:00 50 kW
		20/01/2017 01:00 50 kW
		20/01/2017 02:00 50 kW
		20/01/2017 03:00 50 kW
		20/01/2017 04:00 50 kW
		20/01/2017 05:00 50 kW
		20/01/2017 06:00 50 kW
		20/01/2017 07:00 50 kW
		20/01/2017 08:00 50 kW
		20/01/2017 09:00 50 kW
		20/01/2017 10:00 50 kW
		20/01/2017 11:00 50 kW
		20/01/2017 12:00 50 kW
		20/01/2017 13:00 50 kW
		20/01/2017 14:00 50 kW
		20/01/2017 15:00 50 kW
		20/01/2017 16:00 50 kW
		20/01/2017 17:00 50 kW
		20/01/2017 18:00 50 kW
		20/01/2017 19:00 50 kW
		20/01/2017 20:00 50 kW
		20/01/2017 21:00 50 kW
		20/01/2017 22:00 50 kW
		20/01/2017 23:00 50 kW

		21/01/2017 00:00 50 kW
		21/01/2017 01:00 50 kW
		21/01/2017 02:00 50 kW
		21/01/2017 03:00 50 kW
		21/01/2017 04:00 50 kW
		21/01/2017 05:00 50 kW
		21/01/2017 06:00 50 kW
		21/01/2017 07:00 50 kW
		21/01/2017 08:00 50 kW
		21/01/2017 09:00 50 kW
		21/01/2017 10:00 50 kW
		21/01/2017 11:00 50 kW
		21/01/2017 12:00 50 kW
		21/01/2017 13:00 50 kW
		21/01/2017 14:00 50 kW
		21/01/2017 15:00 50 kW
		21/01/2017 16:00 50 kW
		21/01/2017 17:00 50 kW
		21/01/2017 18:00 50 kW
		21/01/2017 19:00 50 kW
		21/01/2017 20:00 50 kW
		21/01/2017 21:00 50 kW
		21/01/2017 22:00 50 kW
		21/01/2017 23:00 50 kW

		22/01/2017 00:00 50 kW
		22/01/2017 01:00 50 kW
		22/01/2017 02:00 50 kW
		22/01/2017 03:00 50 kW
		22/01/2017 04:00 50 kW
		22/01/2017 05:00 50 kW
		22/01/2017 06:00 50 kW
		22/01/2017 07:00 50 kW
		22/01/2017 08:00 50 kW
		22/01/2017 09:00 50 kW
		22/01/2017 10:00 50 kW
		22/01/2017 11:00 50 kW
		22/01/2017 12:00 50 kW
		22/01/2017 13:00 50 kW
		22/01/2017 14:00 50 kW
		22/01/2017 15:00 50 kW
		22/01/2017 16:00 50 kW
		22/01/2017 17:00 50 kW
		22/01/2017 18:00 50 kW
		22/01/2017 19:00 50 kW
		22/01/2017 20:00 50 kW
		22/01/2017 21:00 50 kW
		22/01/2017 22:00 50 kW
		22/01/2017 23:00 50 kW

		23/01/2017 00:00 50 kW
		23/01/2017 01:00 50 kW
		23/01/2017 02:00 50 kW
		23/01/2017 03:00 50 kW
		23/01/2017 04:00 50 kW
		23/01/2017 05:00 50 kW
		23/01/2017 06:00 50 kW
		23/01/2017 07:00 50 kW
		23/01/2017 08:00 50 kW
		23/01/2017 09:00 50 kW
		23/01/2017 10:00 50 kW
		23/01/2017 11:00 50 kW
		23/01/2017 12:00 50 kW
		23/01/2017 13:00 50 kW
		23/01/2017 14:00 50 kW
		23/01/2017 15:00 50 kW
		23/01/2017 16:00 50 kW
		23/01/2017 17:00 50 kW
		23/01/2017 18:00 50 kW
		23/01/2017 19:00 50 kW
		23/01/2017 20:00 50 kW
		23/01/2017 21:00 50 kW
		23/01/2017 22:00 50 kW
		23/01/2017 23:00 50 kW

		24/01/2017 00:00 50 kW
		24/01/2017 01:00 50 kW
		24/01/2017 02:00 50 kW
		24/01/2017 03:00 50 kW
		24/01/2017 04:00 50 kW
		24/01/2017 05:00 50 kW
		24/01/2017 06:00 50 kW
		24/01/2017 07:00 50 kW
		24/01/2017 08:00 50 kW
		24/01/2017 09:00 50 kW
		24/01/2017 10:00 50 kW
		24/01/2017 11:00 50 kW
		24/01/2017 12:00 50 kW
		24/01/2017 13:00 50 kW
		24/01/2017 14:00 50 kW
		24/01/2017 15:00 50 kW
		24/01/2017 16:00 50 kW
		24/01/2017 17:00 50 kW
		24/01/2017 18:00 50 kW
		24/01/2017 19:00 50 kW
		24/01/2017 20:00 50 kW
		24/01/2017 21:00 50 kW
		24/01/2017 22:00 50 kW
		24/01/2017 23:00 50 kW

		25/01/2017 00:00 50 kW
		25/01/2017 01:00 50 kW
		25/01/2017 02:00 50 kW
		25/01/2017 03:00 50 kW
		25/01/2017 04:00 50 kW
		25/01/2017 05:00 50 kW
		25/01/2017 06:00 50 kW
		25/01/2017 07:00 50 kW
		25/01/2017 08:00 50 kW
		25/01/2017 09:00 50 kW
		25/01/2017 10:00 50 kW
		25/01/2017 11:00 50 kW
		25/01/2017 12:00 50 kW
		25/01/2017 13:00 50 kW
		25/01/2017 14:00 50 kW
		25/01/2017 15:00 50 kW
		25/01/2017 16:00 50 kW
		25/01/2017 17:00 50 kW
		25/01/2017 18:00 50 kW
		25/01/2017 19:00 50 kW
		25/01/2017 20:00 50 kW
		25/01/2017 21:00 50 kW
		25/01/2017 22:00 50 kW
		25/01/2017 23:00 50 kW

		26/01/2017 00:00 50 kW
		26/01/2017 01:00 50 kW
		26/01/2017 02:00 50 kW
		26/01/2017 03:00 50 kW
		26/01/2017 04:00 50 kW
		26/01/2017 05:00 50 kW
		26/01/2017 06:00 50 kW
		26/01/2017 07:00 50 kW
		26/01/2017 08:00 50 kW
		26/01/2017 09:00 50 kW
		26/01/2017 10:00 50 kW
		26/01/2017 11:00 50 kW
		26/01/2017 12:00 50 kW
		26/01/2017 13:00 50 kW
		26/01/2017 14:00 50 kW
		26/01/2017 15:00 50 kW
		26/01/2017 16:00 50 kW
		26/01/2017 17:00 50 kW
		26/01/2017 18:00 50 kW
		26/01/2017 19:00 50 kW
		26/01/2017 20:00 50 kW
		26/01/2017 21:00 50 kW
		26/01/2017 22:00 50 kW
		26/01/2017 23:00 50 kW

		27/01/2017 00:00 50 kW
		27/01/2017 01:00 50 kW
		27/01/2017 02:00 50 kW
		27/01/2017 03:00 50 kW
		27/01/2017 04:00 50 kW
		27/01/2017 05:00 50 kW
		27/01/2017 06:00 50 kW
		27/01/2017 07:00 50 kW
		27/01/2017 08:00 50 kW
		27/01/2017 09:00 50 kW
		27/01/2017 10:00 50 kW
		27/01/2017 11:00 50 kW
		27/01/2017 12:00 50 kW
		27/01/2017 13:00 50 kW
		27/01/2017 14:00 50 kW
		27/01/2017 15:00 50 kW
		27/01/2017 16:00 50 kW
		27/01/2017 17:00 50 kW
		27/01/2017 18:00 50 kW
		27/01/2017 19:00 50 kW
		27/01/2017 20:00 50 kW
		27/01/2017 21:00 50 kW
		27/01/2017 22:00 50 kW
		27/01/2017 23:00 50 kW

		28/01/2017 00:00 50 kW
		28/01/2017 01:00 50 kW
		28/01/2017 02:00 50 kW
		28/01/2017 03:00 50 kW
		28/01/2017 04:00 50 kW
		28/01/2017 05:00 50 kW
		28/01/2017 06:00 50 kW
		28/01/2017 07:00 50 kW
		28/01/2017 08:00 50 kW
		28/01/2017 09:00 50 kW
		28/01/2017 10:00 50 kW
		28/01/2017 11:00 50 kW
		28/01/2017 12:00 50 kW
		28/01/2017 13:00 50 kW
		28/01/2017 14:00 50 kW
		28/01/2017 15:00 50 kW
		28/01/2017 16:00 50 kW
		28/01/2017 17:00 50 kW
		28/01/2017 18:00 50 kW
		28/01/2017 19:00 50 kW
		28/01/2017 20:00 50 kW
		28/01/2017 21:00 50 kW
		28/01/2017 22:00 50 kW
		28/01/2017 23:00 50 kW

		29/01/2017 00:00 50 kW
		29/01/2017 01:00 50 kW
		29/01/2017 02:00 50 kW
		29/01/2017 03:00 50 kW
		29/01/2017 04:00 50 kW
		29/01/2017 05:00 50 kW
		29/01/2017 06:00 50 kW
		29/01/2017 07:00 50 kW
		29/01/2017 08:00 50 kW
		29/01/2017 09:00 50 kW
		29/01/2017 10:00 50 kW
		29/01/2017 11:00 50 kW
		29/01/2017 12:00 50 kW
		29/01/2017 13:00 50 kW
		29/01/2017 14:00 50 kW
		29/01/2017 15:00 50 kW
		29/01/2017 16:00 50 kW
		29/01/2017 17:00 50 kW
		29/01/2017 18:00 50 kW
		29/01/2017 19:00 50 kW
		29/01/2017 20:00 50 kW
		29/01/2017 21:00 50 kW
		29/01/2017 22:00 50 kW
		29/01/2017 23:00 50 kW

		30/01/2017 00:00 50 kW
		30/01/2017 01:00 50 kW
		30/01/2017 02:00 50 kW
		30/01/2017 03:00 50 kW
		30/01/2017 04:00 50 kW
		30/01/2017 05:00 50 kW
		30/01/2017 06:00 50 kW
		30/01/2017 07:00 50 kW
		30/01/2017 08:00 50 kW
		30/01/2017 09:00 50 kW
		30/01/2017 10:00 50 kW
		30/01/2017 11:00 50 kW
		30/01/2017 12:00 50 kW
		30/01/2017 13:00 50 kW
		30/01/2017 14:00 50 kW
		30/01/2017 15:00 50 kW
		30/01/2017 16:00 50 kW
		30/01/2017 17:00 50 kW
		30/01/2017 18:00 50 kW
		30/01/2017 19:00 50 kW
		30/01/2017 20:00 50 kW
		30/01/2017 21:00 50 kW
		30/01/2017 22:00 50 kW
		30/01/2017 23:00 50 kW

		31/01/2017 00:00 50 kW
		31/01/2017 01:00 50 kW
		31/01/2017 02:00 50 kW
		31/01/2017 03:00 50 kW
		31/01/2017 04:00 50 kW
		31/01/2017 05:00 50 kW
		31/01/2017 06:00 50 kW
		31/01/2017 07:00 50 kW
		31/01/2017 08:00 50 kW
		31/01/2017 09:00 50 kW
		31/01/2017 10:00 50 kW
		31/01/2017 11:00 50 kW
		31/01/2017 12:00 50 kW
		31/01/2017 13:00 50 kW
		31/01/2017 14:00 50 kW
		31/01/2017 15:00 50 kW
		31/01/2017 16:00 50 kW
		31/01/2017 17:00 50 kW
		31/01/2017 18:00 50 kW
		31/01/2017 19:00 50 kW
		31/01/2017 20:00 50 kW
		31/01/2017 21:00 50 kW
		31/01/2017 22:00 50 kW
		31/01/2017 23:00 50 kW
</textarea>

<div class=botonera>
	<button id=btn_neteja   onclick=document.querySelector('#corba').value=''>Clear</button>
	<button id=btn_processa onclick=processa_corba(document.querySelector('#corba').value)>Següent</button>
</div>

<div id=contracte style=display:>
	<table style=margin-top:1em>
		<!--linkar amb cookies mes endavant (amb javascript)-->
		<tr><th colspan=4>Contracte
		<tr><th>Període<th>P1<th>P2<th>P3
		<tr><th>Potència contractada
			<td><input placeholder="kW">
			<td><input placeholder="kW">
			<td><input placeholder="kW">
		<tr><th>Preu potència       
			<td><input placeholder="eur/kW">
			<td><input placeholder="eur/kW">
			<td><input placeholder="eur/kW">
		<tr><th>Preu energia
			<td><input placeholder="eur/kWh">
			<td><input placeholder="eur/kWh">
			<td><input placeholder="eur/kWh">
		<tr><th colspan=4>Impostos
		<tr><th>Lloguer (eur)  <td colspan=3><input placeholder=eur value=30>
		<tr><th>Impost elèctric<td colspan=3><input value=0.05113>
		<tr><th>IVA            <td colspan=3><input value=0.21>
		<tr><th colspan=4>Dies festius (no laborables)
		<script>
			for(var dia in Festius)
			{
				document.write("<tr><td>"+dia+"<td>"+Festius[dia]+"<td colspan=2><select><option>Si<option>No</select> <br>")
			}
		</script>
		</tr>
		<tr><th colspan=4>Canvi d'hora (horari estiu)
		<tr>
			<th>Inici
			<td>
				<select>
					<option>1
					<option>2
					<option>3
					<option>4
					<option>5
					<option>6
					<option>7
					<option>8
					<option>9
					<option>10
					<option>11
					<option>12
					<option>13
					<option>14
					<option>15
					<option>16
					<option>17
					<option>18
					<option>19
					<option>20
					<option>21
					<option>22
					<option>23
					<option>24
					<option>25
					<option>26
					<option>27
					<option>28
					<option>29
					<option>30
					<option>31
				</select> 
				març de 2017 02:00 AM
			</td>
			<th>Final
			<td>
				<select>
					<option>1
					<option>2
					<option>3
					<option>4
					<option>5
					<option>6
					<option>7
					<option>8
					<option>9
					<option>10
					<option>11
					<option>12
					<option>13
					<option>14
					<option>15
					<option>16
					<option>17
					<option>18
					<option>19
					<option>20
					<option>21
					<option>22
					<option>23
					<option>24
					<option>25
					<option>26
					<option>27
					<option>28
					<option>29
					<option>30
					<option>31
				</select> 
				octubre de 2017 02:00 AM
			</tr>
	</table>
	<div>Grafic</div>
</div>

</div id=root>
